<div class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50">
  <div class="bg-white p-8 rounded-lg w-full max-w-lg">
    <h2 class="text-xl font-bold mb-4">New Invoice</h2>

    <!-- Invoice Form -->
    <form (ngSubmit)="onSubmit()">
      <div class="mb-4">
        <label class="block text-gray-700 font-bold mb-2" for="clientName">Client Name</label>
        <input [(ngModel)]="clientName" id="clientName" name="clientName" type="text" class="form-input mt-1 block w-full" required>
      </div>
      <div class="mb-4">
        <label class="block text-gray-700 font-bold mb-2" for="dueDate">Due Date</label>
        <input [(ngModel)]="dueDate" id="dueDate" name="dueDate" type="date" class="form-input mt-1 block w-full" required>
      </div>

      <!-- Items Section -->
      <div class="mb-4">
        <h3 class="text-lg font-bold mb-2">Items</h3>
        <div *ngFor="let item of items; let i = index" class="mb-2">
          <div class="flex items-center gap-2">
            <input [(ngModel)]="item.description" name="description-{{ i }}" placeholder="Item description" class="form-input w-1/2" required>
            <input [(ngModel)]="item.quantity" name="quantity-{{ i }}" type="number" min="1" class="form-input w-1/4" (change)="calculateTotal()" required>
            <input [(ngModel)]="item.price" name="price-{{ i }}" type="number" min="0" class="form-input w-1/4" (change)="calculateTotal()" required>
            <button type="button" (click)="removeItem(i)" class="text-red-500">&times;</button>
          </div>
        </div>
        <button type="button" (click)="addItem()" class="text-purple-700">+ Add Item</button>
      </div>

      <div class="mb-4">
        <label class="block text-gray-700 font-bold mb-2">Total</label>
        <p>{{ total | currency }}</p>
      </div>

      <div class="flex justify-end gap-2">
        <button type="button" (click)="close()" class="bg-gray-400 hover:bg-gray-500 text-white font-bold py-2 px-4 rounded">Cancel</button>
        <button type="submit" class="bg-purple-700 hover:bg-purple-800 text-white font-bold py-2 px-4 rounded">Save Invoice</button>
      </div>
    </form>
  </div>
</div>
